/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var R=(q,B,...D)=>{let J=B&&typeof B==="object"&&!B.flat&&!B.tag;return{tag:q||"fragment",props:J?B:{},children:(J?D:[B,...D]).flat(1/0).filter((H)=>H!=null&&H!==!1&&H!=="")}},_=(q,B=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let H=document.createDocumentFragment();return q.children.forEach((K)=>H.appendChild(_(K,B))),H}let D=B||q.tag==="svg",J=D?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(F(J,q.props),q.children.forEach((H)=>J.appendChild(_(H,D))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(J));return J},F=(q,B={},D={})=>{let J={...D,...B};for(let H in J)if(B[H]!==D[H])T(q,H,B[H],D[H])},T=(q,B,D,J)=>{if(B.startsWith("on")){let H=B.slice(2).toLowerCase();if(J)q.removeEventListener(H,J);if(D)q.addEventListener(H,D)}else if(B==="style"){if(typeof D==="string")q.style.cssText=D;else if(q.style.cssText="",D)Object.assign(q.style,D)}else if(B in q&&B!=="list"&&B!=="form")q[B]=D==null?"":D;else if(D==null||D===!1)q.removeAttribute(B);else q.setAttribute(B,D===!0?"":D)},z=(q,B,D,J=0)=>{let H=q.childNodes[J];if(B==null)return H&&q.removeChild(H);if(!H)return q.appendChild(_(B));let K=typeof B==="object";if(K!==(typeof D==="object")||K&&(B.tag!==D.tag||B.props?.key!==D.props?.key))return q.replaceChild(_(B),H);if(K){F(H,B.props,D.props);let Q=B.children,Y=D.children,Z=Math.max(Q.length,Y.length),$=B.tag==="fragment"?q:H;for(let W=0;W<Z;W++)z($,Q[W],Y[W],W)}else if(H.nodeValue!==B)H.nodeValue=B},M=(q,B=!1)=>{let D={...q},J=[];return{getState:()=>D,update:(H)=>{if(D={...D,...H},B)console.log("State Update:",D);J.forEach((K)=>K(D))},subscribe:(H)=>J.push(H)}},U=(q)=>q?.subscribe?q:M(q||{}),j=(q,B,D={})=>{let J=document.querySelector(q),H=U(D),K=null,L=()=>{let Q=B(H.getState(),H.update);z(J,Q,K,0),K=Q};return H.subscribe(L),L(),H},O=(q)=>{window.location.hash=q.startsWith("/")?q:`/${q}`},b=(q,...B)=>{let{href:D,...J}=q,H=window.location.hash.slice(1)||"/",K=D.startsWith("#")?D.slice(1):D,L=H===K;return R("a",{...J,href:`#${K}`,class:`${q.class||""} ${L?"active":""}`.trim()},...B)},S=(q,B,D={})=>{let J=document.querySelector(q),H=U(D),K=null,L=()=>{let Q=window.location.hash;if(Q&&!Q.startsWith("#/"))return;let Y=Q.slice(1)||"/",Z=B[Y],$={};if(!Z){for(let X in B)if(X.includes(":")){let E=new RegExp(`^${X.replace(/:[^\s/]+/g,"([^/]+)")}$`),A=Y.match(E);if(A){Z=B[X];let I=X.match(/:[^\s/]+/g);if(I)I.forEach((G,C)=>$[G.substring(1)]=A[C+1]);break}}}let W=Z||B["404"];if(W){let X=W(H.getState(),H.update,$);z(J,X,K,0),K=X}};return H.subscribe(L),window.addEventListener("hashchange",L),L(),H};export{M as signal,S as route,F as patchProps,T as patchProp,z as patch,O as navigate,j as mount,R as h,_ as createElement,U as asSignal,b as Link};
